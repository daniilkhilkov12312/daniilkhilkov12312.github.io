<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Погода — Нэводари</title>
</head>
<body>

<div id="widget">
  <div class="city">Нэводари</div>
  <div id="temp">--°C</div>
  <div id="desc">Загрузка...</div>
  <div class="source">
    Источник: <a href="https://open-meteo.com/" target="_blank">Open-Meteo</a>
  </div>
</div>

<script>
const lat = 44.3167;
const lon = 28.6;

fetch("https://api.open-meteo.com/v1/forecast?latitude=" + lat + "&longitude=" + lon + "&current_weather=true")
  .then(response => response.json())
  .then(data => {
    const temp = Math.round(data.current_weather.temperature);
    document.getElementById("temp").innerText = temp + "°C";
    document.getElementById("desc").innerText = "Погода обновлена";
  })
  .catch(err => {
    document.getElementById("desc").innerText = "Ошибка загрузки";
    console.log("Ошибка fetch:", err);
  });
</script>

</body>
</html>
